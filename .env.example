# ============================================================
# üîê API Keys & Credentials
# ============================================================

# Gemini API (Google)
GEMINI_API_KEY=your_gemini_api_key_here

# Gemini API timeout (milliseconds)
# Default: 45000ms (45 seconds)
# Increased from 30s to prevent timeouts with 40+ frames
GEMINI_TIMEOUT_MS=45000

# Maximum frames per Gemini analysis cycle
# Default: 40 frames (~6-8 seconds at 5-6 FPS)
# Prevents timeout and memory issues with large frame buffers
MAX_FRAMES_PER_ANALYSIS=40

# OpenAI API (STT/TTS)
OPENAI_API_KEY=your_openai_api_key_here

# ============================================================
# üóÑÔ∏è Database Configuration
# ============================================================

# Supabase PostgreSQL (Production) - PRIMARY ‚ö†Ô∏è CRITICAL FOR DEPLOYMENT
# Format: postgresql://username:password@host:port/database
# ‚ö†Ô∏è IMPORTANT: This MUST be set in production environments (e.g., Render)
# Without DATABASE_URL:
#   - db.Report = null (Report model unavailable)
#   - Dashboard emotion analytics will fail
#   - Emotion analysis data won't persist
DATABASE_URL=postgresql://postgres:your_password@db.zyujxskhparxovpydjez.supabase.co:5432/postgres

# Supabase (Optional - for auth/services)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_KEY=your_service_key_here

# ============================================================
# üåê Server Configuration
# ============================================================

# Server port
PORT=8000

# Environment
NODE_ENV=development

# Frontend URLs (comma-separated for CORS whitelist)
FRONTEND_URLS=http://localhost:5173,http://localhost:5174,https://bemore-app.vercel.app

# ============================================================
# üîê Authentication & Authorization
# ============================================================

# Enable JWT authentication (true/false)
AUTH_ENABLED=true

# JWT Secret (change in production! Min 32 characters recommended)
JWT_SECRET=your-super-secret-key-min-32-chars-production

# Access Token expiration (e.g., 15m, 1h, 2h)
JWT_EXPIRES_IN=15m

# Refresh Token expiration (e.g., 7d, 30d)
REFRESH_TOKEN_EXPIRES_IN=7d

# ============================================================
# üìù Logging & Monitoring
# ============================================================

# Log level: debug, info, warn, error
LOG_LEVEL=debug

# Request ID tracking (for debugging)
ENABLE_REQUEST_ID=true

# ============================================================
# ‚è±Ô∏è Temporary File Cleanup
# ============================================================

# Default: 7 days, 500MB max size, check every 60 minutes
TEMP_FILE_MAX_AGE_DAYS=7
TEMP_FILE_MAX_SIZE_MB=500
TEMP_CLEANUP_INTERVAL_MIN=60

# ============================================================
# üîÑ Multimodal Inference Configuration
# ============================================================

# Combined scoring weights (must sum to 1.0)
INFERENCE_FACIAL_WEIGHT=0.5
INFERENCE_VAD_WEIGHT=0.3
INFERENCE_TEXT_WEIGHT=0.2

# Model version
INFERENCE_MODEL_VERSION=rules-v1.0

# ============================================================
# üß™ Feature Flags & Testing
# ============================================================

# Use mock STT when OpenAI key not available
USE_MOCK_STT=false

# Enable detailed error messages (set to false in production)
DETAILED_ERROR_MESSAGES=true
