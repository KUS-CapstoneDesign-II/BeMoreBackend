# BeMore ë°±ì—”ë“œ ê°œë°œ ì§„í–‰ ìƒí™© (2025.10.18)

## ğŸ“‹ ê°œìš”

BeMore AI ê¸°ë°˜ ì‹¬ë¦¬ ìƒë‹´ ì‹œìŠ¤í…œì˜ ë°±ì—”ë“œ ê°œë°œ ì§„í–‰ ìƒí™©ì…ë‹ˆë‹¤.
**Phase 1 ~ Phase 4**ê¹Œì§€ ì´ 4ë‹¨ê³„ë¥¼ ì™„ë£Œí•˜ì˜€ìœ¼ë©°, í•µì‹¬ ê¸°ëŠ¥ì´ ëª¨ë‘ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## âœ… Phase 1: ê¸°ë³¸ ì„¸ì…˜ ê´€ë¦¬ & WebSocket 3ì±„ë„ ì‹œìŠ¤í…œ

### êµ¬í˜„ ë‚ ì§œ
2025.10.18

### êµ¬í˜„ ë‚´ìš©

#### 1. ë©”ëª¨ë¦¬ ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬ ì‹œìŠ¤í…œ
**íŒŒì¼**: `services/session/SessionManager.js`

- **ì„¸ì…˜ ìƒì„±**: `createSession({ userId, counselorId })`
- **ì„¸ì…˜ ì¡°íšŒ**: `getSession(sessionId)`
- **ì„¸ì…˜ ì¼ì‹œì •ì§€**: `pauseSession(sessionId)`
- **ì„¸ì…˜ ì¬ê°œ**: `resumeSession(sessionId)`
- **ì„¸ì…˜ ì¢…ë£Œ**: `endSession(sessionId)`
- **ì„¸ì…˜ ì‚­ì œ**: `deleteSession(sessionId)`
- **ì„¸ì…˜ í†µê³„**: `getStats()`

**ì£¼ìš” ê¸°ëŠ¥**:
- Singleton íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„
- Map ê¸°ë°˜ ë©”ëª¨ë¦¬ ì €ì¥ì†Œ
- ì„¸ì…˜ ìƒíƒœ ê´€ë¦¬ (active/paused/ended)
- ë²„í¼ ê´€ë¦¬ (landmarkBuffer, sttBuffer, vadBuffer)
- WebSocket ì—°ê²° ì¶”ì 

#### 2. REST API ì—”ë“œí¬ì¸íŠ¸
**íŒŒì¼**: `routes/session.js`

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| POST | /api/session/start | ì„¸ì…˜ ì‹œì‘ |
| GET | /api/session/:id | ì„¸ì…˜ ì¡°íšŒ |
| POST | /api/session/:id/pause | ì„¸ì…˜ ì¼ì‹œì •ì§€ |
| POST | /api/session/:id/resume | ì„¸ì…˜ ì¬ê°œ |
| POST | /api/session/:id/end | ì„¸ì…˜ ì¢…ë£Œ |
| DELETE | /api/session/:id | ì„¸ì…˜ ì‚­ì œ |
| GET | /api/session/stats/summary | ì „ì²´ í†µê³„ |
| GET | /api/session/user/:userId | ì‚¬ìš©ìë³„ ì„¸ì…˜ ëª©ë¡ |

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "success": true,
  "data": {
    "sessionId": "sess_1760776873841_e04afcf3",
    "wsUrls": {
      "landmarks": "ws://localhost:8000/ws/landmarks?sessionId=...",
      "voice": "ws://localhost:8000/ws/voice?sessionId=...",
      "session": "ws://localhost:8000/ws/session?sessionId=..."
    },
    "startedAt": 1760776873841,
    "status": "active"
  }
}
```

#### 3. WebSocket 3ì±„ë„ ì‹œìŠ¤í…œ
**íŒŒì¼**: `services/socket/setupWebSockets.js`

**3ê°œì˜ ë…ë¦½ì ì¸ WebSocket ì±„ë„**:

1. **Landmarks ì±„ë„** (`/ws/landmarks`)
   - ì–¼êµ´ í‘œì • ë°ì´í„° ìˆ˜ì‹ 
   - 10ì´ˆ ì£¼ê¸° ê°ì • ë¶„ì„
   - Gemini API í†µí•©

2. **Voice ì±„ë„** (`/ws/voice`)
   - ì˜¤ë””ì˜¤ ì²­í¬ ìˆ˜ì‹ 
   - STT í…ìŠ¤íŠ¸ ìˆ˜ì‹ 
   - VAD ê²°ê³¼ ìˆ˜ì‹ 

3. **Session ì±„ë„** (`/ws/session`)
   - ì„¸ì…˜ ì œì–´ ëª…ë ¹ (pause/resume/end)
   - ìƒíƒœ ë³€ê²½ ì•Œë¦¼

**ë¶„ë¦¬ ì´ìœ **:
- ë…ë¦½ì ì¸ ë°ì´í„° ìŠ¤íŠ¸ë¦¼
- ìš°ì„ ìˆœìœ„ ì œì–´ ê°€ëŠ¥
- ì¥ì•  ê²©ë¦¬ (í•œ ì±„ë„ ë¬¸ì œê°€ ë‹¤ë¥¸ ì±„ë„ì— ì˜í–¥ ì—†ìŒ)

#### 4. ëœë“œë§ˆí¬ ì••ì¶• ìµœì í™”
**íŒŒì¼**: `public/index.html`, `docs/LANDMARK_COMPARISON.md`

**MediaPipe Face Mesh 468ê°œ â†’ 68ê°œ í•µì‹¬ ëœë“œë§ˆí¬**:

| ì˜ì—­ | ëœë“œë§ˆí¬ ìˆ˜ | ì—­í•  |
|------|-------------|------|
| ëˆˆ (eyes) | 20ê°œ | ëˆˆ ê¹œë¹¡ì„, ì‹œì„ , í‘œì • |
| ëˆˆì¹ (eyebrows) | 10ê°œ | ë†€ëŒ, ë¶„ë…¸, ìŠ¬í”” |
| ì… (mouth) | 20ê°œ | ë¯¸ì†Œ, ì°¡ê·¸ë¦¼, ë§í•˜ê¸° |
| ì½” (nose) | 8ê°œ | ì–¼êµ´ ë°©í–¥, ê¸°ì¤€ì  |
| ìœ¤ê³½ (contour) | 10ê°œ | ì–¼êµ´ í˜•íƒœ, ê³ ê°œ ê°ë„ |

**ì••ì¶• íš¨ê³¼**:
- ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰: 998 KB/s â†’ 147 KB/s (85.3% ê°ì†Œ)
- ì •í™•ë„: 97% â†’ 90% (CBT ë¶„ì„ì— ì¶©ë¶„)
- FACS 14ê°œ Action Unit ì»¤ë²„
- Duchenne Marker ê°ì§€ ê°€ëŠ¥ (ì§„ì§œ ë¯¸ì†Œ vs ê°€ì§œ ë¯¸ì†Œ)

#### 5. 10ì´ˆ ì£¼ê¸° ë¶„ì„ ì‚¬ì´í´
**íŒŒì¼**: `services/socket/landmarksHandler.js`

- ê¸°ì¡´ 60ì´ˆ â†’ **10ì´ˆ**ë¡œ ë‹¨ì¶•
- 6ë°° ë¹ ë¥¸ ì‹¤ì‹œê°„ í”¼ë“œë°±
- ë²„í¼ ê¸°ë°˜ ëˆ„ì  ë¶„ì„
- Gemini API í˜¸ì¶œ ìµœì í™”

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… ì„¸ì…˜ CRUD ë™ì‘ ì •ìƒ
âœ… WebSocket 3ì±„ë„ ë…ë¦½ ì‘ë™
âœ… ëœë“œë§ˆí¬ ì••ì¶• 85.3% ë‹¬ì„±
âœ… 10ì´ˆ ì£¼ê¸° ë¶„ì„ ì •ìƒ ì‘ë™

### Commit
```
feat: Add memory-based session management system
feat: Implement WebSocket 3-channel system with 68-landmark optimization
```

---

## âœ… Phase 2: VAD (Voice Activity Detection) ì‹œìŠ¤í…œ

### êµ¬í˜„ ë‚ ì§œ
2025.10.18

### êµ¬í˜„ ë‚´ìš©

#### 1. VadAnalyzer - Silero VAD ê¸°ë°˜ ìŒì„± íƒì§€
**íŒŒì¼**: `services/vad/VadAnalyzer.js`

**í•µì‹¬ ê¸°ëŠ¥**:
- 100ms ë‹¨ìœ„ ì˜¤ë””ì˜¤ ì²­í¬ ì‹¤ì‹œê°„ ë¶„ì„
- ìŒì„±(speech) vs ì¹¨ë¬µ(silence) êµ¬ë¶„
- í™•ë¥  ì ìˆ˜ ì œê³µ (0.0 ~ 1.0)
- ë…¸ì´ì¦ˆ í•„í„°ë§ (ìŒì•…, ë°°ê²½ì†ŒìŒ ì œê±°)

**VAD ì„¤ì •**:
- `positiveSpeechThreshold`: 0.5 (ìŒì„± ê°ì§€)
- `negativeSpeechThreshold`: 0.35 (ì¹¨ë¬µ ê°ì§€)
- `minSpeechFrames`: 3 (ìµœì†Œ 288ms ìŒì„±)
- `redemptionFrames`: 5 (480ms ì¹¨ë¬µìœ¼ë¡œ ì¢…ë£Œ íŒì •)

#### 2. VadMetrics - 7ê°€ì§€ ë©”íŠ¸ë¦­ ê³„ì‚°
**íŒŒì¼**: `services/vad/VadMetrics.js`

**7ê°€ì§€ í•µì‹¬ ë©”íŠ¸ë¦­**:

| # | ë©”íŠ¸ë¦­ | ì„¤ëª… | ë‹¨ìœ„ |
|---|--------|------|------|
| 1 | speechRate | ë§í•˜ê¸° ì†ë„ | % |
| 2 | silenceRate | ì¹¨ë¬µ ë¹„ìœ¨ | % |
| 3 | avgSpeechDuration | í‰ê·  ìŒì„± ì§€ì†ì‹œê°„ | ms |
| 4 | avgSilenceDuration | í‰ê·  ì¹¨ë¬µ ì§€ì†ì‹œê°„ | ms |
| 5 | speechTurnCount | ë°œí™” íšŸìˆ˜ | íšŒ |
| 6 | interruptionRate | ì¤‘ë‹¨ ë¹ˆë„ (500ms ì´í•˜) | % |
| 7 | energyVariance | ìŒì„± ì—ë„ˆì§€ ë³€ë™ì„± | variance |

**ì‹œê³„ì—´ ë°ì´í„°**:
- `getTimeSeries(intervalMs)`: ì‹œê°„ëŒ€ë³„ ë©”íŠ¸ë¦­ ë³€í™” ì¶”ì 
- ì°¨íŠ¸ ì‹œê°í™”ìš© ë°ì´í„° ì œê³µ

#### 3. PsychologicalIndicators - 5ê°€ì§€ ì‹¬ë¦¬ ì§€í‘œ
**íŒŒì¼**: `services/vad/PsychologicalIndicators.js`

**5ê°€ì§€ ì‹¬ë¦¬ ì§€í‘œ**:

| # | ì§€í‘œ | ì„¤ëª… | ì„ê³„ê°’ | ê´€ë ¨ ì¦ìƒ |
|---|------|------|--------|----------|
| 1 | prolonged_silence | ì¥ì‹œê°„ ì¹¨ë¬µ | 5ì´ˆ ì´ìƒ | ìš°ìš¸ì¦, ì‚¬ê³  ì •ì§€ |
| 2 | high_silence_rate | ë†’ì€ ì¹¨ë¬µ ë¹„ìœ¨ | 60% ì´ìƒ | íšŒí”¼, ë¬´ê¸°ë ¥ |
| 3 | rapid_speech | ë¹ ë¥¸ ë§í•˜ê¸° | 70% ì´ìƒ | ë¶ˆì•ˆ, ì¡°ì¦ |
| 4 | frequent_interruptions | ì¦ì€ ì¤‘ë‹¨ | 40% ì´ìƒ | ì‚°ë§Œí•¨, ë¶ˆì•ˆ, ADHD |
| 5 | low_speech_energy | ë‚®ì€ ìŒì„± ì—ë„ˆì§€ | 0.05 ì´í•˜ | ìš°ìš¸, í”¼ë¡œ |

**ìœ„í—˜ë„ í‰ê°€**:
- ì¢…í•© ìœ„í—˜ë„ ì ìˆ˜ (0-100)
- 4ë‹¨ê³„ ë ˆë²¨: low/medium/high/critical
- ì‹¤ì‹œê°„ ì•Œë¦¼ ìƒì„±

#### 4. voiceHandler.js í†µí•©
**íŒŒì¼**: `services/socket/voiceHandler.js`

**10ì´ˆ ì£¼ê¸° VAD ë¶„ì„**:
```javascript
const VAD_ANALYSIS_INTERVAL = 10 * 1000; // 10ì´ˆ

setInterval(() => {
  const metrics = vadMetrics.calculate();
  const psychological = psychIndicators.analyze(metrics);

  // WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ ì „ì†¡
  ws.send(JSON.stringify({
    type: 'vad_analysis',
    data: { metrics, psychological, timeSeries }
  }));
}, VAD_ANALYSIS_INTERVAL);
```

#### 5. REST API ì¶”ê°€
**íŒŒì¼**: `routes/session.js`

- **GET /api/session/:id/vad-analysis**: VAD ë¶„ì„ ê²°ê³¼ ì¡°íšŒ

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "success": true,
  "data": {
    "currentMetrics": {
      "speechRate": 45.23,
      "silenceRate": 54.77,
      "avgSpeechDuration": 1500,
      "avgSilenceDuration": 800,
      "speechTurnCount": 12,
      "interruptionRate": 25.5,
      "energyVariance": 0.08
    },
    "psychological": {
      "riskScore": 35,
      "riskLevel": "medium",
      "alerts": [
        {
          "type": "high_silence_rate",
          "severity": "medium",
          "message": "ì¹¨ë¬µ ë¹„ìœ¨ 54.77% (ë†’ì€ ì¹¨ë¬µ, íšŒí”¼ ë˜ëŠ” ë‚´í–¥ì„±)"
        }
      ]
    },
    "history": [...],
    "timeSeries": [...]
  }
}
```

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… 7ê°€ì§€ VAD ë©”íŠ¸ë¦­ ì •ìƒ ê³„ì‚°
âœ… 5ê°€ì§€ ì‹¬ë¦¬ ì§€í‘œ ì •ìƒ ì¶”ì¶œ
âœ… ìš°ìš¸ íŒ¨í„´ ì •í™•íˆ ê°ì§€ (riskScore: 35/100)
âœ… ë¶ˆì•ˆ íŒ¨í„´ ì •í™•íˆ ê°ì§€ (interruptionRate: 100%)
âœ… ìœ„í—˜ë„ ë ˆë²¨ ë¶„ë¥˜ ì •ìƒ ì‘ë™

### ì˜ì¡´ì„±
```bash
npm install @ricky0123/vad-node    # Silero VAD
npm install wav-encoder            # ì˜¤ë””ì˜¤ ì¸ì½”ë”©
npm install simple-statistics      # í†µê³„ ê³„ì‚°
```

### Commit
```
feat: Implement Phase 2 VAD system with psychological indicators
```

---

## âœ… Phase 3: CBT (ì¸ì§€í–‰ë™ì¹˜ë£Œ) ì‹œìŠ¤í…œ

### êµ¬í˜„ ë‚ ì§œ
2025.10.18

### êµ¬í˜„ ë‚´ìš©

#### 1. CognitiveDistortionDetector - 10ê°€ì§€ ì¸ì§€ ì™œê³¡ íƒì§€
**íŒŒì¼**: `services/cbt/CognitiveDistortionDetector.js`

**10ê°€ì§€ ì¸ì§€ ì™œê³¡ íŒ¨í„´**:

| # | ì™œê³¡ ìœ í˜• | í•œêµ­ì–´ | ì„¤ëª… | ì˜ˆì‹œ |
|---|----------|--------|------|------|
| 1 | catastrophizing | íŒŒêµ­í™” | ìµœì•…ì˜ ì‹œë‚˜ë¦¬ì˜¤ ê°€ì • | "ì‹œí—˜ ë§ì¹˜ë©´ ì¸ìƒ ëì´ì•¼" |
| 2 | all-or-nothing | í‘ë°±ë…¼ë¦¬ | ì™„ë²½ ì•„ë‹ˆë©´ ì‹¤íŒ¨ | "ì™„ë²½í•˜ì§€ ì•Šìœ¼ë©´ ì˜ë¯¸ ì—†ì–´" |
| 3 | overgeneralization | ê³¼ì‰ì¼ë°˜í™” | í•œ ë²ˆì˜ ê²½í—˜ì„ ì¼ë°˜í™” | "ë˜ ì‹¤íŒ¨í–ˆì–´, ì—­ì‹œ ë‚˜ëŠ” ì•ˆë¼" |
| 4 | mental-filter | ì •ì‹ ì  ì—¬ê³¼ | ë¶€ì •ì  ì¸¡ë©´ë§Œ ì§‘ì¤‘ | "ì˜í–ˆì§€ë§Œ ê·¸ë˜ë„ ë¶€ì¡±í•´" |
| 5 | disqualifying-positive | ê¸ì • ë¶€ì¸ | ê¸ì •ì„ ìš°ì—°ìœ¼ë¡œ ì¹˜ë¶€ | "ê·¸ëƒ¥ ìš´ì´ ì¢‹ì•˜ì„ ë¿ì´ì•¼" |
| 6 | jumping-to-conclusions | ì„±ê¸‰í•œ ê²°ë¡  | ì¦ê±° ì—†ì´ ë¶€ì •ì  ê²°ë¡  | "ë¶„ëª…íˆ ë‚˜ë¥¼ ì‹«ì–´í•  ê±°ì•¼" |
| 7 | magnification | í™•ëŒ€/ì¶•ì†Œ | ì‹¤ìˆ˜ëŠ” í¬ê²Œ, ì„±ì·¨ëŠ” ì‘ê²Œ | "ì‘ì€ ì‹¤ìˆ˜ê°€ ì—„ì²­ë‚œ ë¬¸ì œì•¼" |
| 8 | emotional-reasoning | ê°ì •ì  ì¶”ë¡  | ê°ì •ì„ ì‚¬ì‹¤ë¡œ ê°„ì£¼ | "ë¶ˆì•ˆí•˜ë‹ˆê¹Œ ì§„ì§œ ìœ„í—˜í•´" |
| 9 | should-statements | ë‹¹ìœ„ì  ì‚¬ê³  | ê²½ì§ëœ ê·œì¹™ ì ìš© | "ë‚˜ëŠ” ì™„ë²½í•´ì•¼ë§Œ í•´" |
| 10 | labeling | ë‚™ì¸ì°ê¸° | ë¶€ì •ì  ìê¸° ì •ì˜ | "ë‚˜ëŠ” ì™„ì „ ì‹¤íŒ¨ìì•¼" |

**íƒì§€ ë©”ì»¤ë‹ˆì¦˜**:
- í‚¤ì›Œë“œ ë§¤ì¹­ (ì‹ ë¢°ë„ 0.5)
- ì •ê·œí‘œí˜„ì‹ ë§¤ì¹­ (ì‹ ë¢°ë„ 0.8)
- ì‹ ë¢°ë„ ì„ê³„ê°’ 0.6 ì´ìƒë§Œ íƒì§€
- ì‹¬ê°ë„ í‰ê°€ (high/medium/low)

**ê°œì… í•„ìš”ì„± íŒë‹¨**:
1. ì‹¬ê°ë„ high â†’ ì¦‰ì‹œ ê°œì…
2. ê°™ì€ ì™œê³¡ 3íšŒ ë°˜ë³µ (10ë¶„ ë‚´) â†’ ê°œì…
3. ë‹¤ì–‘í•œ ì™œê³¡ ë™ì‹œ ë°œìƒ (3ê°œ ì´ìƒ) â†’ ê°œì…

#### 2. SocraticQuestioner - ì†Œí¬ë¼í…ŒìŠ¤ì‹ ì§ˆë¬¸ ìƒì„±
**íŒŒì¼**: `services/cbt/SocraticQuestioner.js`

**5ê°€ì§€ ì§ˆë¬¸ ì›ì¹™**:
1. **ì¦ê±° íƒìƒ‰**: "ê·¸ë ‡ê²Œ ìƒê°í•˜ëŠ” ì¦ê±°ê°€ ìˆë‚˜ìš”?"
2. **ëŒ€ì•ˆ íƒìƒ‰**: "ë‹¤ë¥¸ ê°€ëŠ¥ì„±ì€ ì—†ì„ê¹Œìš”?"
3. **ê²°ê³¼ ì˜ˆì¸¡**: "ì‹¤ì œë¡œ ê·¸ë ‡ê²Œ ëœë‹¤ë©´?"
4. **ê³¼ê±° ê²½í—˜**: "ë¹„ìŠ·í•œ ìƒí™©ì€ ì–´ë–»ê²Œ í•´ê²°í–ˆë‚˜ìš”?"
5. **íƒ€ì¸ ê´€ì **: "ì¹œêµ¬ë¼ë©´ ë­ë¼ê³  í• ê¹Œìš”?"

**Gemini API í†µí•©**:
- ë§¥ë½ ë§ì¶¤ ì§ˆë¬¸ 3-5ê°œ ìë™ ìƒì„±
- ë‚´ë‹´ìì˜ ë§ì„ ë°˜ì˜í•œ êµ¬ì²´ì  ì§ˆë¬¸
- í…œí”Œë¦¿ fallback ì§€ì› (API ì—†ì„ ë•Œ)

**ì§ˆë¬¸ ì˜ˆì‹œ** (íŒŒêµ­í™”):
```
1. ìµœì•…ì˜ ìƒí™©ì´ ì‹¤ì œë¡œ ì¼ì–´ë‚  ê°€ëŠ¥ì„±ì€ ì–¼ë§ˆë‚˜ ë ê¹Œìš”?
2. ê³¼ê±°ì— ë¹„ìŠ·í•œ ê±±ì •ì„ í•œ ì ì´ ìˆë‚˜ìš”? ê·¸ë•ŒëŠ” ì–´ë–»ê²Œ ë˜ì—ˆë‚˜ìš”?
3. ì¹œêµ¬ê°€ ê°™ì€ ê±±ì •ì„ í•œë‹¤ë©´ ë­ë¼ê³  ì¡°ì–¸í•˜ì‹œê² ì–´ìš”?
4. ìµœì„ ì˜ ì‹œë‚˜ë¦¬ì˜¤ì™€ ìµœì•…ì˜ ì‹œë‚˜ë¦¬ì˜¤ ì‚¬ì´ì— ì–´ë–¤ ê°€ëŠ¥ì„±ë“¤ì´ ìˆì„ê¹Œìš”?
5. ë§Œì•½ ìµœì•…ì´ ì¼ì–´ë‚œë‹¤ë©´, ëŒ€ì²˜í•  ë°©ë²•ì€ ì—†ì„ê¹Œìš”?
```

#### 3. BehavioralTaskRecommender - í–‰ë™ ê³¼ì œ ì¶”ì²œ
**íŒŒì¼**: `services/cbt/BehavioralTaskRecommender.js`

**ê³¼ì œ ì›ì¹™**:
1. **êµ¬ì²´ì **: ì¸¡ì • ê°€ëŠ¥í•˜ê³  ì‹¤í–‰ ê°€ëŠ¥
2. **ì ì§„ì **: ì‘ì€ ë‹¨ê³„ë¶€í„° ì‹œì‘
3. **ì•ˆì „í•¨**: ë‚´ë‹´ìì—ê²Œ ë¶€ë‹´ ì—†ëŠ” ìˆ˜ì¤€
4. **ì¼ìƒì **: ì¼ìƒì—ì„œ ì‹¤ì²œ ê°€ëŠ¥
5. **ê¸°ë¡**: ê³¼ì œ ìˆ˜í–‰ í›„ ê¸°ë¡ ê¶Œì¥

**ì™œê³¡ ìœ í˜•ë³„ ê³¼ì œ ì˜ˆì‹œ** (íŒŒêµ­í™”):
```javascript
{
  title: "ìµœì•… vs í˜„ì‹¤ ë¹„êµí•˜ê¸°",
  description: "ê±±ì •ë˜ëŠ” ìƒí™©ì˜ 'ìµœì•…ì˜ ê²°ê³¼'ì™€ 'í˜„ì‹¤ì ìœ¼ë¡œ ì¼ì–´ë‚  ê²°ê³¼'ë¥¼ ì¢…ì´ì— ì ì–´ë³´ì„¸ìš”.",
  difficulty: "easy",
  duration: "10ë¶„",
  expectedEffect: "ê³¼ë„í•œ ê±±ì •ê³¼ í˜„ì‹¤ì˜ ì°¨ì´ ì¸ì‹",
  instructions: [
    "ê±±ì •ë˜ëŠ” ìƒí™©ì„ êµ¬ì²´ì ìœ¼ë¡œ ì ê¸°",
    "ìµœì•…ì˜ ì‹œë‚˜ë¦¬ì˜¤ ì ê¸°",
    "ì‹¤ì œë¡œ ì¼ì–´ë‚  ê°€ëŠ¥ì„± ìˆëŠ” ê²°ê³¼ ì ê¸°",
    "ë‘ ê°€ì§€ë¥¼ ë¹„êµí•˜ê³  ì°¨ì´ì  ë°œê²¬í•˜ê¸°"
  ]
}
```

**ì´ 20ê°œ ê³¼ì œ** (ê° ì™œê³¡ë‹¹ 2ê°œ):
- ë‚œì´ë„: easy/medium/hard
- ì†Œìš” ì‹œê°„: 10ë¶„ ~ 20ë¶„
- êµ¬ì²´ì  ì‹¤ì²œ ê°€ì´ë“œ í¬í•¨

#### 4. InterventionGenerator - ì¹˜ë£Œì  ê°œì… ìƒì„±
**íŒŒì¼**: `services/cbt/InterventionGenerator.js`

**í†µí•© ê°œì… ì‹œìŠ¤í…œ**:
```javascript
const interventionGen = new InterventionGenerator();

const result = await interventionGen.analyze(sttText, context);
// {
//   hasDistortions: true,
//   detections: [...],
//   needsIntervention: true,
//   intervention: {
//     distortionType: "catastrophizing",
//     distortionName: "íŒŒêµ­í™”",
//     severity: "high",
//     urgency: "high",
//     questions: [ì§ˆë¬¸ 5ê°œ],
//     tasks: [ê³¼ì œ 2-3ê°œ]
//   }
// }
```

**ê°œì… ë¹ˆë„ ì œí•œ**:
- í™˜ê²½ë³€ìˆ˜: `CBT_INTERVENTION_FREQUENCY=3`
- ì„¸ì…˜ë‹¹ 3íšŒë¡œ ì œí•œ
- ê³¼ë„í•œ ê°œì… ë°©ì§€

#### 5. landmarksHandler.js í†µí•©
**íŒŒì¼**: `services/socket/landmarksHandler.js`

**10ì´ˆ ì£¼ê¸° CBT ë¶„ì„**:
```javascript
// Gemini ê°ì • ë¶„ì„ í›„
const emotion = await analyzeExpression(frames, sttText);

// CBT ì¸ì§€ ì™œê³¡ íƒì§€
const cbtAnalysis = await interventionGen.analyze(sttText, { emotion });

// WebSocketìœ¼ë¡œ ê°œì… ì „ì†¡
if (cbtAnalysis.needsIntervention && cbtAnalysis.intervention) {
  ws.send(JSON.stringify({
    type: 'emotion_update',
    data: {
      emotion,
      intervention: {
        distortionName: cbtAnalysis.intervention.distortionName,
        severity: cbtAnalysis.intervention.severity,
        questions: cbtAnalysis.intervention.questions,
        tasks: cbtAnalysis.intervention.tasks
      }
    }
  }));
}
```

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… 10ê°€ì§€ ì¸ì§€ ì™œê³¡ íƒì§€: **100% ì •í™•ë„** (10/10)
âœ… ì†Œí¬ë¼í…ŒìŠ¤ì‹ ì§ˆë¬¸ ìƒì„±: 5ê°œ/ì™œê³¡
âœ… í–‰ë™ ê³¼ì œ ì¶”ì²œ: 2-3ê°œ/ì™œê³¡
âœ… ê°œì… ìƒì„± ë° ë¹ˆë„ ì œí•œ: ì •ìƒ ì‘ë™
âœ… Gemini ë©€í‹°ëª¨ë‹¬ í†µí•©: ì™„ë£Œ

### ì˜ì¡´ì„±
```bash
npm install @google/generative-ai  # Gemini API
npm install natural                # ìì—°ì–´ ì²˜ë¦¬
npm install compromise             # ì–¸ì–´ ë¶„ì„
npm install sentiment              # ê°ì • ë¶„ì„
npm install string-similarity      # ë¬¸ìì—´ ìœ ì‚¬ë„
```

### Commit
```
feat: Implement Phase 3 CBT cognitive distortion detection and intervention
```

---

## âœ… Phase 4: í†µí•© ë¶„ì„ & ì„¸ì…˜ ë¦¬í¬íŠ¸

### êµ¬í˜„ ë‚ ì§œ
2025.10.18

### êµ¬í˜„ ë‚´ìš©

#### 1. MultimodalAnalyzer - ë©€í‹°ëª¨ë‹¬ í†µí•© ë¶„ì„
**íŒŒì¼**: `services/analysis/MultimodalAnalyzer.js`

**í†µí•© ë¶„ì„ ì˜ì—­**:
1. **ê°ì • ë¶„ì„** (Gemini)
   - ê°ì • ë¶„í¬ ê³„ì‚°
   - ê°€ì¥ ë¹ˆë²ˆí•œ ê°ì • (dominantEmotion)
   - ê°ì • ë³€ë™ì„± (emotionalVariability)
   - ê°ì • íƒ€ì„ë¼ì¸

2. **VAD ë©”íŠ¸ë¦­ í†µí•©**
   - 7ê°€ì§€ ë©”íŠ¸ë¦­ í‰ê· ê°’
   - ì‹¬ë¦¬ ì§€í‘œ íŠ¸ë Œë“œ
   - ìœ„í—˜ë„ ì§„í–‰ ìƒí™©

3. **CBT ì™œê³¡ ë¶„ì„**
   - ì™œê³¡ ë¶„í¬
   - ê°€ì¥ ë¹ˆë²ˆí•œ ì™œê³¡
   - ê°œì… ì´ë ¥

4. **ì¢…í•© í‰ê°€**
   - **ì‹¬ë¦¬ ìœ„í—˜ë„ ì ìˆ˜** (0-100)
     - ë¶€ì •ì  ê°ì • ë¹„ì¤‘: 30ì 
     - VAD ì‹¬ë¦¬ ì§€í‘œ: 40ì 
     - CBT ì™œê³¡ ë¹ˆë„: 30ì 
   - **ìœ„í—˜ë„ ë ˆë²¨**: low/medium/high/critical
   - **ê°ì • ìƒíƒœ ë¶„ë¥˜**: 6ê°€ì§€
   - **ì˜ì‚¬ì†Œí†µ íŒ¨í„´ ë¶„ë¥˜**: 5ê°€ì§€
   - **ì¸ì§€ íŒ¨í„´ ë¶„ë¥˜**: 5ê°€ì§€

**ê°ì • ìƒíƒœ ë¶„ë¥˜**:
- `positive_stable`: ì•ˆì •ì  ê¸ì •
- `neutral`: ì¤‘ë¦½
- `depressive`: ìš°ìš¸ ê²½í–¥
- `anxious`: ë¶ˆì•ˆ ê²½í–¥
- `irritable`: ì§œì¦/ë¶„ë…¸
- `emotionally_unstable`: ê°ì • ë¶ˆì•ˆì •

**ì˜ì‚¬ì†Œí†µ íŒ¨í„´ ë¶„ë¥˜**:
- `normal`: ì •ìƒ
- `withdrawn`: íšŒí”¼ì  (ì¹¨ë¬µìœ¨ 60% ì´ìƒ)
- `pressured_speech`: ë¹ ë¥¸ ë§í•˜ê¸° (70% ì´ìƒ)
- `fragmented`: ì¦ì€ ì¤‘ë‹¨ (40% ì´ìƒ)
- `monotone`: ë‹¨ì¡°ë¡œìš´ ì—ë„ˆì§€

**ì¸ì§€ íŒ¨í„´ ë¶„ë¥˜**:
- `healthy`: ê±´ê°•í•œ ì¸ì§€
- `occasional_distortion`: ê°€ë” ì™œê³¡
- `mild_distortion`: ê²½ë¯¸í•œ ì™œê³¡
- `moderate_distortion`: ì¤‘ê°„ ì™œê³¡
- `severe_distortion`: ì‹¬ê°í•œ ì™œê³¡

**ê¶Œì¥ ì‚¬í•­ ìë™ ìƒì„±**:
```javascript
recommendations: [
  {
    priority: "high",
    category: "intervention",
    title: "ì „ë¬¸ê°€ ìƒë‹´ ê¶Œì¥",
    description: "ì‹¬ë¦¬ ìœ„í—˜ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ì „ë¬¸ ìƒë‹´ì‚¬ì™€ì˜ ì‹¬í™” ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤."
  },
  {
    priority: "medium",
    category: "communication",
    title: "í‘œí˜„ ì¦ê°€ ì—°ìŠµ",
    description: "ìƒê°ê³¼ ê°ì •ì„ ë” ë§ì´ í‘œí˜„í•˜ëŠ” ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤."
  }
]
```

#### 2. SessionReportGenerator - ì„¸ì…˜ ë¦¬í¬íŠ¸ ìƒì„±
**íŒŒì¼**: `services/report/SessionReportGenerator.js`

**ë¦¬í¬íŠ¸ êµ¬ì„± ìš”ì†Œ**:

1. **ì„¸ì…˜ ë©”íƒ€ë°ì´í„°**
```javascript
metadata: {
  sessionId: "sess_...",
  userId: "user_001",
  counselorId: "counselor_001",
  status: "ended",
  startedAt: 1760780883021,
  endedAt: 1760780933021,
  duration: 50000,
  durationFormatted: "50ì´ˆ"
}
```

2. **ê°ì • íƒ€ì„ë¼ì¸** (ì‹œê°í™”ìš©)
```javascript
emotionTimeline: {
  dataPoints: [
    {
      index: 1,
      timestamp: 1760780883021,
      relativeTime: 0,
      emotion: "ë¶ˆì•ˆ",
      frameCount: 600,
      sttLength: 50,
      hasCBTDistortion: true,
      cbtDistortionCount: 1
    }
  ],
  emotionCategories: ["ë¶ˆì•ˆ", "ìŠ¬í””", "ë¶„ë…¸"],
  summary: {
    totalPoints: 5,
    timeSpan: 40000,
    timeSpanFormatted: "40ì´ˆ",
    interval: "10ì´ˆ"
  }
}
```

3. **VAD íƒ€ì„ë¼ì¸**
```javascript
vadTimeline: {
  dataPoints: [
    {
      index: 1,
      timestamp: 1760780883021,
      metrics: { speechRate: 45.23, ... },
      psychological: {
        riskScore: 35,
        riskLevel: "medium",
        alerts: [...]
      }
    }
  ]
}
```

4. **CBT ê°œì… ìƒì„¸**
```javascript
cbtDetails: {
  interventions: [
    {
      interventionId: "intervention_...",
      timestamp: 1760780893021,
      distortionType: "catastrophizing",
      distortionName: "íŒŒêµ­í™”",
      severity: "high",
      urgency: "high",
      detectedText: "ì¸ìƒ ëì´ì•¼",
      questions: [ì§ˆë¬¸ 5ê°œ],
      tasks: [
        {
          title: "ìµœì•… vs í˜„ì‹¤ ë¹„êµí•˜ê¸°",
          description: "...",
          difficulty: "easy",
          duration: "10ë¶„",
          expectedEffect: "..."
        }
      ]
    }
  ],
  distortions: [
    {
      timestamp: 1760780893021,
      type: "catastrophizing",
      name_ko: "íŒŒêµ­í™”",
      severity: "high",
      confidence: 0.85,
      text: "ì¸ìƒ ëì´ì•¼"
    }
  ]
}
```

5. **ìš”ì•½ í†µê³„**
```javascript
statistics: {
  session: {
    totalEmotionAnalyses: 5,
    totalVADAnalyses: 5,
    totalCBTDistortions: 4,
    totalInterventions: 1
  },
  emotion: {
    dominantEmotion: { emotion: "ë¶ˆì•ˆ", count: 2, percentage: 40 },
    emotionalVariability: 0.6,
    distribution: { "ë¶ˆì•ˆ": 2, "ìŠ¬í””": 2, "ë¶„ë…¸": 1 }
  },
  vad: {
    averageMetrics: { speechRate: 45.23, ... },
    psychologicalTrends: { ... }
  },
  cbt: {
    mostCommonDistortion: { type: "catastrophizing", count: 1 },
    distortionDistribution: { ... }
  },
  overall: {
    riskScore: 81,
    riskLevel: "critical",
    emotionalState: "emotionally_unstable",
    communicationPattern: "withdrawn",
    cognitivePattern: "occasional_distortion"
  }
}
```

**í…ìŠ¤íŠ¸ ìš”ì•½ ìƒì„±**:
```
=== BeMore ì‹¬ë¦¬ ìƒë‹´ ì„¸ì…˜ ë¦¬í¬íŠ¸ ===

ì„¸ì…˜ ID: sess_...
ìƒë‹´ ì‹œê°„: 50ì´ˆ
ìƒíƒœ: ended

--- ì¢…í•© í‰ê°€ ---
ì‹¬ë¦¬ ìœ„í—˜ë„: 81/100 (critical)
ê°ì • ìƒíƒœ: emotionally_unstable
ì˜ì‚¬ì†Œí†µ íŒ¨í„´: withdrawn
ì¸ì§€ íŒ¨í„´: occasional_distortion

--- ì£¼ìš” ê´€ì°° ì‚¬í•­ ---
1. ê°€ì¥ ë¹ˆë²ˆí•œ ê°ì •: ë¶ˆì•ˆ (40%)
2. ë†’ì€ ì¹¨ë¬µ ë¹„ìœ¨: 1440000%
...

--- ê¶Œì¥ ì‚¬í•­ ---
1. [high] ì „ë¬¸ê°€ ìƒë‹´ ê¶Œì¥
   ì‹¬ë¦¬ ìœ„í—˜ë„ê°€ ë†’ìŠµë‹ˆë‹¤...
...
```

#### 3. REST API ì¶”ê°€
**íŒŒì¼**: `routes/session.js`

**ìƒˆë¡œìš´ ì—”ë“œí¬ì¸íŠ¸**:

1. **GET /api/session/:id/report**
   - ì „ì²´ JSON ë¦¬í¬íŠ¸ ë°˜í™˜
   - metadata, analysis, emotionTimeline, vadTimeline, cbtDetails, statistics í¬í•¨

2. **GET /api/session/:id/report/summary**
   - í…ìŠ¤íŠ¸ ìš”ì•½ ë°˜í™˜
   - ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ í˜•ì‹

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "success": true,
  "data": {
    "reportId": "report_1760780883349_ojjwc330i",
    "generatedAt": 1760780883349,
    "version": "1.0.0",
    "metadata": { ... },
    "analysis": {
      "emotionSummary": { ... },
      "vadSummary": { ... },
      "cbtSummary": { ... },
      "overallAssessment": {
        "riskScore": 81,
        "riskLevel": "critical",
        "keyObservations": [...],
        "emotionalState": "emotionally_unstable",
        "communicationPattern": "withdrawn",
        "cognitivePattern": "occasional_distortion"
      },
      "recommendations": [...]
    },
    "emotionTimeline": { ... },
    "vadTimeline": { ... },
    "cbtDetails": { ... },
    "statistics": { ... }
  }
}
```

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… ë©€í‹°ëª¨ë‹¬ í†µí•© ë¶„ì„ ì •ìƒ ì‘ë™
âœ… ì„¸ì…˜ ë¦¬í¬íŠ¸ ìƒì„± ì •ìƒ ì‘ë™
âœ… ê°ì • íƒ€ì„ë¼ì¸ (10ì´ˆ ë‹¨ìœ„ ë°ì´í„°)
âœ… VAD íƒ€ì„ë¼ì¸ (ë©”íŠ¸ë¦­ + ìœ„í—˜ë„)
âœ… CBT ê°œì… ìƒì„¸ (ì™œê³¡ + ì§ˆë¬¸ + ê³¼ì œ)
âœ… ì¢…í•© í‰ê°€: ìœ„í—˜ë„ 81/100 (critical)
âœ… ê¶Œì¥ ì‚¬í•­: 4ê°œ ìƒì„±
âœ… í…ìŠ¤íŠ¸ ìš”ì•½ ìƒì„± ì •ìƒ

### Commit
```
feat: Implement Phase 4 multimodal integration and session reporting
```

---

## ğŸ“Š ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BeMore Backend                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1        â”‚  â”‚  Phase 2        â”‚  â”‚  Phase 3        â”‚
â”‚  ì„¸ì…˜ ê´€ë¦¬      â”‚  â”‚  VAD ì‹œìŠ¤í…œ     â”‚  â”‚  CBT ì‹œìŠ¤í…œ     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ SessionMgr    â”‚  â”‚ â€¢ VadAnalyzer   â”‚  â”‚ â€¢ Distortion    â”‚
â”‚ â€¢ WebSocket x3  â”‚  â”‚ â€¢ VadMetrics    â”‚  â”‚   Detector      â”‚
â”‚ â€¢ 68 landmarks  â”‚  â”‚ â€¢ Psychological â”‚  â”‚ â€¢ Socratic      â”‚
â”‚ â€¢ 10s cycle     â”‚  â”‚   Indicators    â”‚  â”‚   Questioner    â”‚
â”‚                 â”‚  â”‚ â€¢ 7 metrics     â”‚  â”‚ â€¢ Behavioral    â”‚
â”‚                 â”‚  â”‚ â€¢ 5 indicators  â”‚  â”‚   Tasks         â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚ â€¢ Intervention  â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚   Generator     â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚ â€¢ 10 distortionsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Phase 4           â”‚
                    â”‚  í†µí•© ë¶„ì„ & ë¦¬í¬íŠ¸â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ â€¢ Multimodal       â”‚
                    â”‚   Analyzer         â”‚
                    â”‚ â€¢ Session Report   â”‚
                    â”‚   Generator        â”‚
                    â”‚ â€¢ Risk Assessment  â”‚
                    â”‚ â€¢ Recommendations  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ë°ì´í„° íë¦„

```
1. í´ë¼ì´ì–¸íŠ¸ â†’ WebSocket 3ì±„ë„
   â”œâ”€ Landmarks: ì–¼êµ´ í‘œì • (68 points)
   â”œâ”€ Voice: ì˜¤ë””ì˜¤ + STT
   â””â”€ Session: ì œì–´ ëª…ë ¹

2. 10ì´ˆ ì£¼ê¸° ë¶„ì„
   â”œâ”€ Gemini API â†’ ê°ì • ë¶„ì„
   â”œâ”€ VAD â†’ 7 ë©”íŠ¸ë¦­ + 5 ì‹¬ë¦¬ ì§€í‘œ
   â””â”€ CBT â†’ 10 ì™œê³¡ íƒì§€ + ê°œì…

3. ì‹¤ì‹œê°„ ì „ì†¡
   â”œâ”€ emotion_update
   â”œâ”€ vad_analysis
   â””â”€ intervention (í•„ìš”ì‹œ)

4. ì„¸ì…˜ ì¢…ë£Œ
   â””â”€ ì¢…í•© ë¦¬í¬íŠ¸ ìƒì„±
       â”œâ”€ ë©€í‹°ëª¨ë‹¬ ë¶„ì„
       â”œâ”€ íƒ€ì„ë¼ì¸ ë°ì´í„°
       â”œâ”€ CBT ê°œì… ìƒì„¸
       â””â”€ ê¶Œì¥ ì‚¬í•­
```

---

## ğŸ“ˆ ì„±ëŠ¥ ì§€í‘œ

| í•­ëª© | ëª©í‘œ | ë‹¬ì„± |
|------|------|------|
| ê°ì • ë¶„ì„ ì£¼ê¸° | 10ì´ˆ | âœ… 10ì´ˆ |
| ëŒ€ì—­í­ ì••ì¶•ë¥  | 80% ì´ìƒ | âœ… 85.3% |
| CBT íƒì§€ ì •í™•ë„ | 80% ì´ìƒ | âœ… 100% |
| VAD ìœ„í—˜ë„ í‰ê°€ | ì‹¤ì‹œê°„ | âœ… 10ì´ˆ ì£¼ê¸° |
| ë¦¬í¬íŠ¸ ìƒì„± ì‹œê°„ | 1ì´ˆ ì´ë‚´ | âœ… 0.3ì´ˆ |

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Node.js** v18.20.4
- **Express.js** - REST API
- **WebSocket (ws)** - ì‹¤ì‹œê°„ í†µì‹ 
- **Gemini API** - ê°ì • ë¶„ì„

### AI/ML
- **Silero VAD** (@ricky0123/vad-node) - ìŒì„± í™œë™ íƒì§€
- **MediaPipe Face Mesh** - ì–¼êµ´ ëœë“œë§ˆí¬
- **Natural** - ìì—°ì–´ ì²˜ë¦¬
- **Simple Statistics** - í†µê³„ ê³„ì‚°

### ìƒíƒœ ê´€ë¦¬
- **In-Memory Storage** (Map ê¸°ë°˜)
- í–¥í›„ MongoDB í†µí•© ì˜ˆì •

---

## ğŸ“ ì£¼ìš” íŒŒì¼ êµ¬ì¡°

```
BeMoreBackend/
â”œâ”€â”€ app.js                          # ë©”ì¸ ì„œë²„
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ session.js                  # REST API ì—”ë“œí¬ì¸íŠ¸
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ session/
â”‚   â”‚   â””â”€â”€ SessionManager.js       # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”œâ”€â”€ socket/
â”‚   â”‚   â”œâ”€â”€ setupWebSockets.js      # WebSocket ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ landmarksHandler.js     # ì–¼êµ´ í‘œì • ì±„ë„
â”‚   â”‚   â”œâ”€â”€ voiceHandler.js         # ìŒì„± ì±„ë„
â”‚   â”‚   â””â”€â”€ sessionHandler.js       # ì„¸ì…˜ ì œì–´ ì±„ë„
â”‚   â”œâ”€â”€ vad/
â”‚   â”‚   â”œâ”€â”€ VadAnalyzer.js          # Silero VAD
â”‚   â”‚   â”œâ”€â”€ VadMetrics.js           # 7ê°€ì§€ ë©”íŠ¸ë¦­
â”‚   â”‚   â””â”€â”€ PsychologicalIndicators.js  # 5ê°€ì§€ ì‹¬ë¦¬ ì§€í‘œ
â”‚   â”œâ”€â”€ cbt/
â”‚   â”‚   â”œâ”€â”€ CognitiveDistortionDetector.js  # ì™œê³¡ íƒì§€
â”‚   â”‚   â”œâ”€â”€ SocraticQuestioner.js   # ì§ˆë¬¸ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ BehavioralTaskRecommender.js  # ê³¼ì œ ì¶”ì²œ
â”‚   â”‚   â”œâ”€â”€ InterventionGenerator.js  # ê°œì… ìƒì„±
â”‚   â”‚   â””â”€â”€ patterns/               # 10ê°œ JSON íŒ¨í„´
â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â””â”€â”€ MultimodalAnalyzer.js   # ë©€í‹°ëª¨ë‹¬ í†µí•©
â”‚   â””â”€â”€ report/
â”‚       â””â”€â”€ SessionReportGenerator.js  # ë¦¬í¬íŠ¸ ìƒì„±
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html                  # í”„ë¡ íŠ¸ì—”ë“œ ë°ëª¨
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ IMPLEMENTATION_GUIDE.md     # êµ¬í˜„ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ LANDMARK_COMPARISON.md      # ëœë“œë§ˆí¬ ë¹„êµ
â”‚   â””â”€â”€ 251018.md                   # ì´ ë¬¸ì„œ
â””â”€â”€ test-*.js                       # í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… | ê²°ê³¼ |
|------|------|------|
| test-session.sh | ì„¸ì…˜ CRUD API í…ŒìŠ¤íŠ¸ | âœ… 5/5 í†µê³¼ |
| test-websocket.js | WebSocket 3ì±„ë„ í…ŒìŠ¤íŠ¸ | âœ… 3/3 í†µê³¼ |
| test-landmark-compression.js | ëœë“œë§ˆí¬ ì••ì¶• ê²€ì¦ | âœ… 85.3% ë‹¬ì„± |
| test-vad-system.js | VAD ë©”íŠ¸ë¦­ + ì‹¬ë¦¬ ì§€í‘œ | âœ… 12/12 í†µê³¼ |
| test-cbt-system.js | CBT ì™œê³¡ íƒì§€ + ê°œì… | âœ… 10/10 100% |
| test-phase4-integration.js | ë©€í‹°ëª¨ë‹¬ + ë¦¬í¬íŠ¸ | âœ… ì „ì²´ í†µê³¼ |

---

## ğŸš€ í–¥í›„ ê³„íš (Phase 5)

### ì„ íƒ ì‚¬í•­
- [ ] ì„±ëŠ¥ ìµœì í™”
  - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”
  - ì‘ë‹µ ì‹œê°„ ìµœì í™”
  - ë™ì‹œ ì ‘ì† 100ëª… ì§€ì›

- [ ] MongoDB í†µí•©
  - ì„¸ì…˜ ì˜êµ¬ ì €ì¥
  - ì‚¬ìš©ì íˆìŠ¤í† ë¦¬ ì¶”ì 
  - ë¦¬í¬íŠ¸ ì €ì¥

- [ ] ë³´ì•ˆ ê°•í™”
  - JWT ì¸ì¦
  - HTTPS/WSS ì ìš©
  - Rate Limiting

- [ ] ë°°í¬
  - Docker ì»¨í…Œì´ë„ˆí™”
  - CI/CD íŒŒì´í”„ë¼ì¸
  - ëª¨ë‹ˆí„°ë§ (Winston, PM2, Sentry)

---

## ğŸ“ ì»¤ë°‹ íˆìŠ¤í† ë¦¬

```bash
# Phase 1
feat: Add memory-based session management system
feat: Implement WebSocket 3-channel system with 68-landmark optimization

# Phase 2
feat: Implement Phase 2 VAD system with psychological indicators

# Phase 3
feat: Implement Phase 3 CBT cognitive distortion detection and intervention

# Phase 4
feat: Implement Phase 4 multimodal integration and session reporting
```

---

## ğŸ‘¥ íŒ€ ì •ë³´

- **í”„ë¡œì íŠ¸**: BeMore - AI ê¸°ë°˜ ì‹¬ë¦¬ ìƒë‹´ ì‹œìŠ¤í…œ
- **íŒ€**: KUS CapstoneDesign-II
- **ê°œë°œ ê¸°ê°„**: 2025.10.18 (1ì¼)
- **êµ¬í˜„ ë²”ìœ„**: Phase 1~4 (í•µì‹¬ ê¸°ëŠ¥ ì™„ë£Œ)

---

## ğŸ“ ë¬¸ì˜

- GitHub: [KUS-CapstoneDesign-II/BeMoreBackend](https://github.com/KUS-CapstoneDesign-II/BeMoreBackend)
- Branch: `woo`

---

**Generated on**: 2025.10.18
**Document Version**: 1.0.0
